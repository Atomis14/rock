(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d2c5c37"],{"68be":function(e,t,n){"use strict";n("c84d")},"6e5b":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=Object(c["F"])("data-v-1351cdea");Object(c["s"])("data-v-1351cdea");var s={class:"Wall"},a=Object(c["g"])("h1",null,"Wall",-1),r=Object(c["g"])("p",null,"Public messages",-1),u=Object(c["g"])("br",null,null,-1),l=Object(c["g"])("input",{type:"submit",value:"Post"},null,-1),i={class:"Wall__messageContainer"},b={key:1};Object(c["q"])();var d=o((function(e,t,n,o,d,m){return Object(c["p"])(),Object(c["d"])("div",s,[a,r,Object(c["g"])("form",{onSubmit:t[2]||(t[2]=Object(c["E"])((function(){return m.submitForm&&m.submitForm.apply(m,arguments)}),["prevent"]))},[Object(c["D"])(Object(c["g"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.form.content=e})},null,512),[[c["A"],d.form.content]]),u,l,Object(c["g"])("p",null,Object(c["y"])(d.form.error),1)],32),Object(c["g"])("div",i,[d.messages?(Object(c["p"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["v"])(d.messages,(function(n,o){return Object(c["p"])(),Object(c["d"])("div",{class:"Wall__message",key:o},[Object(c["g"])("p",null,Object(c["y"])(n.content),1),Object(c["g"])("p",null,"by: "+Object(c["y"])(n.user.username),1),n.user._id===e.user.id?(Object(c["p"])(),Object(c["d"])("a",{key:0,onClick:t[3]||(t[3]=function(){return m.deletePost&&m.deletePost.apply(m,arguments)}),"data-id":n._id}," Delete ",8,["data-id"])):Object(c["e"])("",!0)])})),128)):(Object(c["p"])(),Object(c["d"])("p",b,"Could not fetch any posts"))])])})),m=n("5530"),O=n("5502"),f=n("fa07"),p=new f["a"]("/posts",{get:!0,getOne:!1,post:!0,put:!0,patch:!0,remove:!0,removeOne:!0}),j={data:function(){return{form:{content:"",error:""},messages:null}},computed:Object(m["a"])({},Object(O["d"])({user:"auth/user"})),methods:{submitForm:function(){var e=this;""!=this.form.content?p.post({content:this.form.content}).then((function(){e.form.content="",e.form.error="",e.getPosts()})).catch((function(t){console.log(t),e.form.error="please fill in a message"})):this.form.error="please fill in a message"},deletePost:function(e){var t=this,n=e.target.dataset.id;p.removeOne(n).then((function(e){t.getPosts()}))},getPosts:function(){var e=this;p.get().then((function(t){e.messages=t})).catch((function(e){console.log(e)}))}},created:function(){this.getPosts()}};n("68be");j.render=d,j.__scopeId="data-v-1351cdea";t["default"]=j},c84d:function(e,t,n){}}]);
//# sourceMappingURL=chunk-1d2c5c37.59691afa.js.map